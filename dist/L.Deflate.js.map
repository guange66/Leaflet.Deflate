{"version":3,"sources":["src/L.Deflate.js"],"names":["L","Deflate","FeatureGroup","extend","options","minSize","markerCluster","markerOptions","markerClusterOptions","initialize","Util","setOptions","this","_layers","_needsPrepping","_featureLayer","markerClusterGroup","featureGroup","_getBounds","path","bounds","Circle","addTo","_map","getBounds","removeLayer","_isCollapsed","zoom","computedBounds","northEastPixels","project","getNorthEast","southWestPixels","getSouthWest","width","x","height","y","_getZoomThreshold","zoomThreshold","getZoom","_bindInfoTools","marker","parentLayer","_popupHandlersAdded","bindPopup","_popup","_content","_tooltipHandlersAdded","bindTooltip","_tooltip","_bindEvents","i","j","lenI","lenJ","events","_events","eventKeys","Object","getOwnPropertyNames","eventParents","_eventParents","eventParentKeys","listeners","length","on","fn","_makeMarker","layer","getCenter","markerFeature","feature","toGeoJSON","undefined","properties","prepLayer","zoomState","_addToMap","layerToAdd","addLayer","layers","len","push","getLayerId","layerId","layerIndex","indexOf","splice","clearLayers","_switchDisplay","showMarker","_deflate","endZoom","eachLayer","intersects","onAdd","map","onRemove","off","deflate"],"mappings":"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"}